<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="order.css" />
  <!-- ШРИФТЫ -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Ubuntu:wght@500;700&display=swap" rel="stylesheet">
  <title>Order</title>
</head>
<body>
               <header class="hdr">
  <!-- фоновый прямоугольник -->
  <div class="hdr-bg"></div>

  <!-- LOGO -->
  <a class="logo" href="#">
    <span class="logo-text">Qonte</span>
    <span class="logo-dot" aria-hidden="true"></span>
  </a>

  <!-- SEARCH GROUP -->
  <form class="search-wrap" action="#" role="search">
  <input class="search-input" type="text" placeholder="Пошук..." aria-label="Пошук">
  <button class="search-btn" type="submit" aria-label="Найти">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <circle cx="10" cy="10" r="6.5" fill="none" stroke="#7AD293" stroke-width="1.5"/>
      <rect x="16" y="16" width="6" height="6" rx="1.2" fill="#7AD293"/>
    </svg>
  </button>
</form>

  <!-- КНОПКА AI -->
<button class="btn-ai" type="button">
  <span class="ai-ico" aria-hidden="true">
    <!-- иконка «робот/ИИ» -->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="#7AD293" stroke-width="2">
      <circle cx="12" cy="12" r="9"/>
      <circle cx="9" cy="10" r="1"/>
      <circle cx="15" cy="10" r="1"/>
      <path d="M8 15c1.5 1 3.5 1 5 0"/>
    </svg>
  </span>
  <span class="ai-label">AI-Консультант</span>
</button>

<!-- КНОПКА КАТАЛОГ -->
<button class="btn-cat" type="button">
  <span class="cat-ico" aria-hidden="true">
    <!-- иконка «меню/каталог» -->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="#7AD293" stroke-width="2">
      <rect x="3" y="4" width="7" height="7"/>
      <rect x="14" y="4" width="7" height="7"/>
      <rect x="3" y="13" width="7" height="7"/>
      <rect x="14" y="13" width="7" height="7"/>
    </svg>
  </span>
  <span class="cat-label">Каталог</span>
</button>

  <!-- ИКОНКИ 3–6 -->
  <button class="ico ico-lang" type="button" aria-label="Выбор языка">
    <!-- Иконка "язык" -->
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="#ECECEC" stroke-width="2" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="10"/>
      <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
    </svg>
  </button>

  <button class="ico ico-heart" type="button" aria-label="Избранное">
    <!-- Иконка "сердце" -->
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="#ECECEC" stroke-width="2" viewBox="0 0 24 24">
      <path d="M12 21s-6-4.3-9-8.6C1 9.3 3.5 5 7.5 5c2.1 0 3.5 1.1 4.5 2.5C13 6.1 14.4 5 16.5 5 20.5 5 23 9.3 21 12.4c-3 4.3-9 8.6-9 8.6z"/>
    </svg>
  </button>

  <button class="ico ico-cart" type="button" aria-label="Корзина">
    <!-- Иконка "корзина" -->
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="#ECECEC" stroke-width="2" viewBox="0 0 24 24">
      <circle cx="9" cy="21" r="1"/>
      <circle cx="20" cy="21" r="1"/>
      <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
    </svg>
  </button>

  <button class="ico ico-user" type="button" aria-label="Аккаунт">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#7AD293" viewBox="0 0 24 24">
      <circle cx="12" cy="8" r="4"/>
      <path d="M6 20c0-3.3 2.7-6 6-6s6 2.7 6 6"/>
    </svg>
  </button>
</header>







<!-- ОБЁРТКА ДЛЯ ЛИСТА -->
<div class="list-wrap">
  <div class="list-inner">
    <!-- ЭЛЕМЕНТ 1 -->
<div class="list-item item-1">
  <!-- Маска/превью -->
  <div class="thumb">
    <div class="thumb-bg"></div>
    <img class="thumb-img" src="poroshok2.png" alt="">
  </div>

  <!-- Бордер по всей карточке -->
  <div class="item-border"></div>

  <!-- Маленькая квадратная иконка справа -->
  <!-- Заголовок (кликабельно) -->
  <a class="item-title" href="#">Пральний порошок, 2 кг</a>

  <!-- Блок цен -->
  <div class="price-now">207 грн</div>
  <div class="price-old">259 грн</div>

  <!-- Группа-стік (скрыта как в макете) -->
</div>

<!-- ЭЛЕМЕНТ 2 (идентичный, другая позиция) -->
<div class="list-item item-2">
  <div class="thumb">
    <div class="thumb-bg"></div>
    <img class="thumb-img" src="poroshok2.png" alt="">
  </div>
  <div class="item-border"></div>
  <a class="item-title" href="#">Пральний порошок, 2 кг</a>
  <div class="price-now">207 грн</div>
  <div class="price-old">259 грн</div>
</div>

<!-- ЭЛЕМЕНТ 3 (идентичный, другая позиция) -->
<div class="list-item item-3">
  <div class="thumb">
    <div class="thumb-bg"></div>
    <img class="thumb-img" src="poroshok2.png" alt="">
  </div>
  <div class="item-border"></div>
  <a class="item-title" href="#">Пральний порошок, 2 кг</a>
  <div class="price-now">207 грн</div>
  <div class="price-old">259 грн</div>
</div>
<!-- ЭЛЕМЕНТ 4 (идентичный, другая позиция) -->
<div class="list-item item-4">
  <div class="thumb">
    <div class="thumb-bg"></div>
    <img class="thumb-img" src="poroshok2.png" alt="">
  </div>
  <div class="item-border"></div>
  <a class="item-title" href="#">Пральний порошок, 2 кг</a>
  <div class="price-now">207 грн</div>
  <div class="price-old">259 грн</div>
</div>
  </div>
</div>






<!-- БЛОК СОСТОЯНИЙ -->
<div class="order-status" data-step="0">
  <ol class="steps">
    <li class="step" style="top:0px">
      <span class="dot" aria-hidden="true"></span>
      <span class="label">Обробка замовлення</span>
    </li>
    <li class="step" style="top:33.54px">
      <span class="dot" aria-hidden="true"></span>
      <span class="label">Збираємо замовлення</span>
    </li>
    <li class="step" style="top:67.54px">
      <span class="dot" aria-hidden="true"></span>
      <span class="label">Передаємо в доставку</span>
    </li>
    <li class="step" style="top:101.54px">
      <span class="dot" aria-hidden="true"></span>
      <span class="label">В дорозі</span>
    </li>
    <li class="step" style="top:135.54px">
      <span class="dot" aria-hidden="true"></span>
      <span class="label">Доставлено</span>
    </li>
    <li class="step" style="top:169.54px">
      <span class="dot" aria-hidden="true"></span>
      <span class="label">Отримано</span>
    </li>
  </ol>
  <!-- Вертикальные коннекторы (рисуются одним фоном, перекрашиваются по прогрессу) -->
  <div class="rail"></div>
  <div class="rail-done"></div>
</div>




<!-- Блок: Доставка + адрес -->
<div class="info-delivery">
  <span class="info-delivery__icon" aria-hidden="true">
    <img src="place.png" alt="" width="20" height="20" draggable="false" />
  </span>

  <div class="info-delivery__title">Доставка</div>
  <div class="info-delivery__addr">м. Харків, вул. Вулиця, буд. 13</div>
</div>








<!-- Group 527 -->
<div class="summary-rows">
  <div class="sr-row sr-row--goods">
    <span class="sr-row__label">Товари</span>
    <span class="sr-row__price">256 грн</span>
  </div>

  <div class="sr-row sr-row--discount">
    <span class="sr-row__label">Знижка</span>
    <span class="sr-row__price">-256 грн</span>
  </div>

  <div class="sr-row sr-row--delivery">
    <span class="sr-row__label">Доставка</span>
    <span class="sr-row__price">256 грн</span>
  </div>
</div>

<!-- ВСТАВЬ РЯДОМ С ПРЕДЫДУЩИМ БЛОКОМ СТРОК -->
<div class="summary-total">
  <span class="total__label">Всього</span>
  <span class="total__price">207 грн</span>
</div>

<!-- Декоративная стрелка (как просил — именно изображение) -->
<img class="summary-arrow-img" src="arrow-green.png" alt="" width="27" height="27" draggable="false">




<!-- Левый текст: текущее состояние (Group 399) -->
<div class="status-current-box">
  <div class="status-current">Обробка замовлення</div>
</div>

<!-- Правый блок с датой (Group 491) -->
<div class="status-eta">
  <span class="eta-label">Очікується:</span>
  <span class="eta-date">9 серпня, Сб</span>
</div>



<div class="order-header">
  <!-- Кликабельная иконка слева -->
  <button class="order-header__icon" type="button" aria-label="Дія">
    <img src="planex.png" alt="" width="30" height="29" draggable="false">
  </button>

  <!-- Заголовок -->
  <h4 class="order-header__title">Замовлення від 5.08.2025</h4>

  <!-- Номер заказа -->
  <span class="order-header__id">№2000234</span>

  <!-- Маленькая точка -->
  <span class="order-header__dot" aria-hidden="true"></span>
</div>




<!-- ===== Правые кнопки замовлення ===== -->
<section class="order-actions" aria-label="Дії з замовленням">
  <!-- Задати питання про замовлення (Group 402) -->
  <button class="oa-btn oa-btn--outline-green oa-btn--ask" type="button">
    <span class="oa-btn__text">Задати питання про замовлення</span>
    <img class="oa-btn__icon" src="planexx.png" alt="" width="27" height="27" draggable="false">
  </button>

  <!-- Повторити замовлення (Group 401 / Group 262) -->
  <button class="oa-btn oa-btn--solid-green oa-btn--repeat" type="button">
    <span class="oa-btn__text">Повторити замовлення</span>
    <img class="oa-btn__icon" src="reload.png" alt="" width="21" height="21" draggable="false">
  </button>

  <!-- Скасувати замовлення (Group 400) -->
  <button class="oa-btn oa-btn--outline-gray oa-btn--cancel" type="button">
    <span class="oa-btn__text oa-btn__text--gray">Скасувати замовлення</span>
    <img class="oa-btn__icon" src="close.png" alt="" width="37" height="37" draggable="false">
  </button>
</section>

<div class="del-order-overlay" aria-hidden="true"></div>
<div class="del-order-modal" role="dialog" aria-modal="true" aria-labelledby="del-order-title" aria-hidden="true">
  <div class="del-order-modal__card">
    <p id="del-order-title" class="del-order-modal__text">
      Ви впевнені, що хочете відмінити замовлення?
    </p>
    <button class="del-yes" type="button">Так</button>
    <button class="del-no" type="button">Ні</button>
  </div>
</div>

<!-- Картинка, которая появится после подтверждения -->
<div class="cancelled-illustration" hidden>
  <img src="cancelled.png" alt="Замовлення скасовано">
</div>



<footer class="ftr" role="contentinfo">
  <div class="ftr-bg"></div>

  <!-- Колонки -->
  <h4 class="ftr-h4 ftr-h4--info">Інформація о компанії</h4>
  <ul class="ftr-list ftr-list--info">
    <li><a href="#">Про нас</a></li>
    <li><a href="#">Умови використання сайту</a></li>
    <li><a href="#">Вакансії</a></li>
    <li><a href="#">Контакти</a></li>
    <li><a href="#">Зворотній зв’язок</a></li>
  </ul>

  <h4 class="ftr-h4 ftr-h4--help">Допомога</h4>
  <ul class="ftr-list ftr-list--help">
    <li><a href="#">Часті питання</a></li>
    <li><a href="#">Доставка та оплата</a></li>
    <li><a href="#">Гарантія</a></li>
    <li><a href="#">Повернення</a></li>
  </ul>

  <h4 class="ftr-h4 ftr-h4--sellers">Продавцям</h4>
  <ul class="ftr-list ftr-list--sellers">
    <li><a href="#">Продавати товари</a></li>
    <li><a href="#">Правила торгівлі</a></li>
  </ul>

  <!-- Соцсети -->
  <h4 class="ftr-h4 ftr-h4--social">Ми в соціальних мережах</h4>
  <a class="ftr-soc ftr-soc--ig" href="#" aria-label="Instagram">
    <svg viewBox="0 0 24 24" width="22" height="22" fill="none">
      <rect x="3" y="3" width="18" height="18" rx="5" stroke="#ECECEC" stroke-width="2"/>
      <circle cx="12" cy="12" r="4" stroke="#ECECEC" stroke-width="2"/>
      <circle cx="17" cy="7" r="1" fill="#ECECEC"/>
    </svg>
  </a>
  <a class="ftr-soc ftr-soc--fb" href="#" aria-label="Facebook">
    <svg viewBox="0 0 24 24" width="22" height="22" fill="#ECECEC">
      <path d="M13.5 21v-7h2.3l.4-3H13.5V9.1c0-.9.3-1.5 1.7-1.5H16V5.1c-.3 0-1.3-.1-2.4-.1-2.4 0-4 1.4-4 3.9V11H7v3h2.6v7h3.9z"/>
    </svg>
  </a>
  <a class="ftr-soc ftr-soc--tt" href="#" aria-label="TikTok">
    <svg viewBox="0 0 24 24" width="22" height="22" fill="#ECECEC">
      <path d="M15 3c.6 1.8 2 3.2 3.8 3.7v3.1c-1.5-.1-2.9-.6-4-1.5v5.9a5.6 5.6 0 1 1-5.6-5.6c.5 0 1 .1 1.4.2v3a2.5 2.5 0 1 0 2.2 2.5V3h2.2z"/>
    </svg>
  </a>

  <!-- Декоративная фигура справа -->
  <img class="ftr-mascot" src="maskotfooter.png" alt="Маскот Qonto">

  <!-- Копирайт -->
  <p class="ftr-copy">©2025 Платформа онлайн-торгівлі «Qonto» — використовується на підставі ліцензії правовласника</p>
</footer>



<script>
document.addEventListener('DOMContentLoaded', () => {
  // ====== ХЕЛПЕРЫ ============================================================
  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));
  const getTop = el => el.getBoundingClientRect().top + window.scrollY;

  // Фолбэки из макета (если не удастся снять с DOM)
  const FALLBACK = {
    BTN_LEFT: 690,
    BTN_BASE_TOP: 330,
    STEP_GAP: 31.54,
    DOT_CENTER_OFFSET: 12.81,
    STEP_OFFSET_FIRST: 0
  };

  // ====== ИНИТ ===============================================================
  function initStatus() {
    const statusEl = document.querySelector('.order-status');
    const stepsEls = statusEl ? Array.from(statusEl.querySelectorAll('.step')) : [];
    const railDone = statusEl ? statusEl.querySelector('.rail-done') : null;
    const markBtn  = document.querySelector('.mark-btn');
    const curText  = document.querySelector('.status-current');

    if (!statusEl || !stepsEls.length || !railDone || !markBtn) {
      // Подождём, вдруг блок придёт позже
      requestAnimationFrame(initStatus);
      return;
    }

    // Сделаем кнопку позиционируемой (на всякий)
    const mbStyle = markBtn.style;
    if (getComputedStyle(markBtn).position === 'static') {
      mbStyle.position = 'absolute';
    }

    // ===== Расчёт геометрии ==================================================
    let realGap = FALLBACK.STEP_GAP;
    let baseTop = FALLBACK.BTN_BASE_TOP;
    let btnLeft = FALLBACK.BTN_LEFT;

    try {
      if (stepsEls.length > 1) {
        const a = getTop(stepsEls[0]);
        const b = getTop(stepsEls[1]);
        const g = Math.round(b - a);
        if (isFinite(g) && g > 0) realGap = g;
      }
      // базовый top — прижмём к первому шагу
      const firstStepTop = getTop(stepsEls[0]);
      // разница от макетного положения первого шага
      const rootTop = getTop(statusEl);
      const delta = Math.max(0, Math.round(firstStepTop - rootTop));
      baseTop = FALLBACK.BTN_BASE_TOP + delta - FALLBACK.STEP_OFFSET_FIRST;

      // если у кнопки уже есть left — заберём его
      const leftCss = parseInt(getComputedStyle(markBtn).left, 10);
      btnLeft = isFinite(leftCss) ? leftCss : FALLBACK.BTN_LEFT;
    } catch(_) { /* оставим фолбэки */ }

    // ===== Состояние и отрисовка =============================================
    const N = stepsEls.length;
    let idx = 0; // текущий шаг

    function paint() {
      // классы на шагах
      stepsEls.forEach((li, i) => {
        li.classList.toggle('completed', i < idx);
        li.classList.toggle('current',   i === idx);
      });

      // зелёная линия
      let h = 0;
      if (idx > 0) {
        const last = idx - 1;
        h = FALLBACK.DOT_CENTER_OFFSET + (FALLBACK.STEP_OFFSET_FIRST + last * realGap);
      }
      railDone.style.height = h + 'px';

      // позиция/текст кнопки
      if (idx >= N) {
        markBtn.disabled = true;
        markBtn.textContent = 'Готово';
        mbStyle.top  = (baseTop + (N-1) * realGap) + 'px';
        mbStyle.left = btnLeft + 'px';
      } else {
        markBtn.disabled = false;
        markBtn.textContent = 'Відмітити';
        mbStyle.top  = (baseTop + idx * realGap) + 'px';
        mbStyle.left = btnLeft + 'px';
      }

      // текст слева
      if (curText) {
        const cur = statusEl.querySelector('.step.current .label');
        curText.textContent = cur ? cur.textContent.trim() : 'Завершено';
      }

      // событие наружу
      window.dispatchEvent(new CustomEvent('orderStatus:change', {
        detail:{ stepIndex: idx, total: N, done: idx >= N }
      }));
    }

    // Первая отрисовка
    paint();

    // ===== Обработчики ========================================================
    // Делегирование на документ — сработает даже если кнопку перерендерят
    document.addEventListener('click', (e) => {
      const btn = e.target.closest('.mark-btn');
      if (!btn) return;
      // защита: кликаем именно по нашей
      if (btn !== markBtn) return;

      idx = clamp(idx + 1, 0, N);
      paint();
    });

    // Публичные методы (если нужно дергать извне)
    window.setOrderStep   = (n)=>{ idx = clamp(n, 0, N); paint(); };
    window.resetOrderFlow = ()=>{ idx = 0; paint(); };
  }

  initStatus();
});
</script>

</body>
</html>